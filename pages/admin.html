<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - ClimateCurtainsAB</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-storage.js" type="module"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .admin-dashboard { padding: 4rem 0; }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; }
        .dashboard-card { background-color: #fff; padding: 2rem; border-radius: 8px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05); text-align: center; }
        .dashboard-card h3 { margin-bottom: 0.5rem; color: var(--primary-color); }
        .dashboard-card p { font-size: 2rem; font-weight: 700; color: var(--dark-color); }
        .data-list { margin-top: 2rem; background-color: #fff; padding: 2rem; border-radius: 8px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05); }
        .data-list table { width: 100%; border-collapse: collapse; table-layout: fixed; }
        .data-list th, .data-list td { padding: 1rem; text-align: left; border-bottom: 1px solid #eee; word-wrap: break-word; }
        .data-list th { background-color: var(--primary-color); color: #fff; }
        .data-list a { color: var(--primary-color); }
        .tabs { display: flex; flex-wrap: wrap; margin-top: 2rem; }
        .tabs button {
            padding: 1rem 2rem;
            background-color: #e5e7eb;
            color: var(--dark-color);
            font-weight: 600;
            border: none;
            cursor: pointer;
            border-radius: 8px 8px 0 0;
            transition: background-color 0.2s;
        }
        .tabs button:hover { background-color: #d1d5db; }
        .tabs button.active { background-color: white; border-bottom: 2px solid var(--primary-color); }
        .tab-content { background-color: white; padding: 2rem; border-radius: 0 8px 8px 8px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05); }
        .tab-content h2 { margin-bottom: 1.5rem; }
        .file-upload-form { display: flex; flex-direction: column; gap: 1rem; max-width: 600px; margin: 2rem auto; }
        .file-upload-form input[type="file"] { border: 1px solid #ddd; padding: 0.5rem; border-radius: 4px; }
        .file-upload-form button { padding: 0.8rem; background-color: var(--primary-color); color: white; font-weight: bold; border-radius: 4px; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <a href="../index.html">
                    <img src="../images/logo.png" alt="ClimateCurtainsAB Logo">
                </a>
            </div>
            <nav>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <ul class="nav-links">
                    <li><a href="../index.html">HOME</a></li>
                    <li><a href="our-solutions.html">SOLUTIONS</a></li>
                    <li><a href="about.html">ABOUT US</a></li>
                    <li><a href="funding.html">FUNDING</a></li>
                    <li><a href="contact.html">CONTACT</a></li>
                    <li><a href="portal.html">CLIENT PORTAL</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main-content">
        <section class="admin-dashboard hidden">
            <div class="container">
                <h1>Admin Dashboard</h1>
                <p>Welcome, <span id="admin-name">Admin</span>. Here is a summary of your website's activity.</p>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Total Users</h3>
                        <p id="total-users">...</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>Registered Companies</h3>
                        <p id="registered-companies">...</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>Inquiries</h3>
                        <p id="total-inquiries">...</p>
                    </div>
                </div>

                <div class="tabs">
                    <button id="tab-button-users" class="active">Registered Users</button>
                    <button id="tab-button-investors">Investor Mail List</button>
                    <button id="tab-button-inquiries">Recent Inquiries</button>
                    <button id="tab-button-files">File Management</button>
                </div>

                <div id="users-tab-content" class="tab-content">
                    <h2>Registered Users</h2>
                    <div id="user-list-section" class="data-list" style="box-shadow: none; padding: 0;">
                        <table id="user-list-table">
                            <thead>
                                <tr>
                                    <th>Company</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Factory SQM</th>
                                    <th>Investor</th>
                                    <th>User ID</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- User data will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="investors-tab-content" class="tab-content hidden">
                    <h2>Investor Mail List</h2>
                    <p>This is a curated list of potential investors, including VCs, angels, and government programs.</p>
                    <div id="investor-list-grid" class="investor-grid">
                        <!-- Investor data will be dynamically loaded here -->
                    </div>
                </div>
                
                <div id="inquiries-tab-content" class="tab-content hidden">
                    <h2>Recent Inquiries</h2>
                    <div id="inquiry-list-section" class="data-list" style="box-shadow: none; padding: 0;">
                        <table id="inquiry-list-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Company</th>
                                    <th>Subject</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Inquiry data will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="files-tab-content" class="tab-content hidden">
                    <h2>File Management</h2>
                    <p>Upload files for investors to download. These files will only be visible to registered users who have checked the "Are you an investor?" box.</p>
                    <form id="file-upload-form" class="file-upload-form">
                        <input type="file" id="investor-file-upload" required>
                        <button type="submit">Upload File</button>
                    </form>
                    <div id="uploaded-files-list" class="data-list" style="box-shadow: none; padding: 0;">
                        <h3>Uploaded Files</h3>
                        <table id="uploaded-files-table">
                            <thead>
                                <tr>
                                    <th>File Name</th>
                                    <th>Date Uploaded</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Uploaded files data will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="../images/logo.png" alt="ClimateCurtainsAB Logo">
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="about.html">ABOUT US</a></li>
                        <li><a href="funding.html">FUNDING</a></li>
                        <li><a href="contact.html">CONTACT</a></li>
                    </ul>
                </div>
                <div class="footer-social">
                    <h3>Connect With Us</h3>
                    <div class="social-icons">
                        <a href="https://twitter.com/ClimateCurtains" target="_blank"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.youtube.com/@peterhertz4789" target="_blank"><i class="fab fa-youtube"></i></a>
                        <a href="https://www.linkedin.com/company/climate-curtains-ab/" target="_blank"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="../js/script.js" type="module"></script>
</body>
</html>
